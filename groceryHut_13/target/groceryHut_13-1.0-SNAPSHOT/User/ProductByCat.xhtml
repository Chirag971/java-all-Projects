<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Product Grocery-Hut</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous"/>
        <link rel="stylesheet" type="text/css" href="css/vendor.css"/>
        <link rel="stylesheet" type="text/css" href="style.css"/>

        <link rel="preconnect" href="https://fonts.googleapis.com"/>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/>
        <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&amp;family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap;" rel="stylesheet"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <style>
            .images{
                mix-blend-mode:darken;
            }
        </style>
    </h:head>
    <h:body>
       <f:metadata>
           <f:viewParam name="catid" value="#{userCDI.cid}" />
        </f:metadata>
         <ui:insert name="uHeader">
            <ui:include src="Header.xhtml"/>
        </ui:insert>
        <section class="py-5">
            <div class="container-fluid">

                <div class="row">
                    <div class="col-md-12">
                        <div class="bootstrap-tabs product-tabs">

                            <div class="tab-content" id="nav-tabContent">
                                <div class="tab-pane fade show active" id="nav-all" role="tabpanel" aria-labelledby="nav-all-tab">

                                    <div class="product-grid row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5">
                                        <ui:repeat value="#{userCDI.proByCat}" var="p">        
                                            <div class="col">
                                                <div class="product-item">
                                                    <span class="badge bg-success position-absolute m-3">-#{p.discount}%</span>
                                                    <figure>
                                                       
                                                        <a onclick="redirectToDetail('#{p.PId}')" title="Product Title">
                                                            <img src="../images/product/#{p.PImage}"   class="tab-image images"/>
                                                                </a>
                                                           
                                                    </figure>
                                                    <h3>#{p.PName}</h3>
                                                    <span class="qty">Unit : #{p.unit}</span>
                                                    <span class="price">&#8377;#{p.ammount}</span>
                                                    <div class="d-flex align-items-center justify-content-between">
                                                        <span class="Brand">Brand :#{p.BId.BName}</span>  
                                                    </div>
                                                </div>
                                            </div>
                                        </ui:repeat> 
                                    </div>
                                    <!-- / product-grid -->

                                </div>

                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>
        <ui:insert name="ufooter">
            <ui:include src="Footer.xhtml"/>
        </ui:insert>
        <script src="js/jquery-1.11.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
        <script src="js/plugins.js"></script>
        <script src="js/script.js"></script>
        <script>
            function redirectToDetail(pid) {
                window.location.href = 'SingleProduct.jsf?productid=' + pid;
            }
        </script>
    </h:body>
</html>
